<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/plataforma.css">
    <script src="https://kit.fontawesome.com/1f12696c43.js" crossorigin="anonymous"></script>
    <script src="./js/link.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="./Js/plataforma.js"></script>   
    <script src="./Js/pratica.js"></script>
    <script defer src="./Js/progressao.js"></script>
    <title>GuitarHow</title>
</head>
<body>
    <header>
        <p class="ola" id="p_nome_usuario"></p>
        <h2><span>Guitar</span>How</h2>
        <p class="experiencia" id="p_experiencia"></p>
    </header>
    <div class="menu">
        <ul>
            <li onclick="mostrarHome()">Home</li>
            <li onclick="mostrarConteudo()">Conteúdo</li>
            <li onclick="mostrarPratica()">Prática</li>
            <li onclick="mostrarProgressao()">Progressão</li>
        </ul>
        <p onclick="irParaHome()">Sair</p>
    </div>
    <div class="content">
        
        <div class="sessao-home" id="div_sessao_home">
            <h1>Bem-Vindo</h1>
            <div class="box-informacoes">
                <div class="infos">
                    <p>Usuário</p>
                    <span id="span_nome_usuario"></span>
                    <p>Email</p>
                    <span id="span_email_usuario"></span>
                    <p>Nível de experiência</p>
                    <span id="span_experiencia"></span>
                </div>
                <div class="rigth-side">
                    <div class="circle"></div>
                </div>
            </div>
        </div>

        <div class="sessao-conteudo" id="div_sessao_conteudo">

            <div class="box-conteudo">
                <div onclick="irParaModulo1()"><p>Conhecendo o instrumento</p></div>
                <div onclick="irParaModulo2()"><p>Escalas</p></div>
            </div>

            <div class="box-conteudo">
                <div><p>Acordes</p></div>
                <div><p>Campo harmônico</p></div>
            </div>
            
            <div class="box-conteudo">
                <div><p>Escala pentatonica</p></div>
                <div><p>Tétrades</p></div>
            </div>

            <div class="display-hidden" id="div_alerta_conteudo" onclick="fecharAlerta()">
                <small id="mensagem_alerta">Avançe ao próximo nível para desbloquear novos conteúdos.</small>
                <i class="fa-solid fa-circle-exclamation"></i>
            </div>
        </div>

        <div class="sessao-pratica" id="div_sessao_pratica">
            <button class="botao-inicio" id="button_inicio" onclick="iniciarTeste()">Iniciar Prática</button>
            <div class="box-teste" id="div_box_teste">
                <div class="box-pergunta">
                    <div class="numero-questao" id="div_numero_questao"></div>
                    <p id="p_questao"></p>
                </div>
                <div class="box-resposta">
                    <div class="options">
                        <div onclick="responderA()" id="alternativa_a">A</div>
                        <div onclick="responderB()" id="alternativa_b">B</div>
                    </div>
                    <div class="options">
                        <div onclick="responderC()" id="alternativa_c">C</div>
                        <div onclick="responderD()" id="alternativa_d">D</div>
                    </div>
                </div>
            </div>
            <div class="box-resultado" id="div_box_resultado">
                <h2>Pontuação</h2>
                <div id="div_acertos"></div>
            </div>
        </div>

        <div class="sessao-progressao" id="div_sessao_progressao">
            <div class="box-metricas">
                <div>
                    <small>Última prática</small>
                    <span id="ultima_pratica">0</span>
                </div>
                <div>
                    <small>Média (Últimas 5)</small>
                    <span id="media_praticas">0</span>
                </div>
                <div>
                    <small>Total de práticas</small>
                    <span id="total_praticas">0</span>
                </div>
            </div>
            <div class="box-grafico">
                <canvas id="grafico"></canvas>
            </div>
        </div>
        
    </div>
</body>
</html>

<script>
    let usuario = sessionStorage.USUARIO
    let email = sessionStorage.EMAIL
    let experiencia = sessionStorage.NIVEL_EXPERIENCIA

    p_nome_usuario.innerHTML = `Olá, ${usuario}`
    span_nome_usuario.innerHTML = usuario
    span_email_usuario.innerHTML = email

    if (experiencia == 1) {
        p_experiencia.innerHTML = 'Iniciante'
        span_experiencia.innerHTML = 'Iniciante'
    } else if (experiencia == 2) {
        p_experiencia.innerHTML = 'Intermediario'
        span_experiencia.innerHTML = 'Intermediario'
    } else {
        p_experiencia.innerHTML = 'Avançado'
        span_experiencia.innerHTML = 'Avançado'
    }   
</script>
